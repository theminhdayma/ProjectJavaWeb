<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="bg-gray-100 font-sans leading-normal tracking-normal">

<div class="flex" th:fragment="SIDEBAR">
    <div class="w-64 bg-white shadow h-screen flex flex-col justify-between p-6">
        <div>
            <h1 class="text-2xl font-bold text-red-600 mb-8">My Company</h1>

            <!-- Kiểm tra đăng nhập bằng currentUser -->
            <div th:if="${currentUser != null}">
                <nav class="space-y-2">

                    <a href="/admin/candidate"
                       th:classappend="${#httpServletRequest.requestURI.startsWith('/admin/candidate')} ? ' bg-red-100 text-red-600 font-medium' : ''"
                       class="block py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors duration-200">
                        <i class="fas fa-users mr-2"></i>
                        Candidate
                    </a>

                    <a href="/admin/technology"
                       th:classappend="${#httpServletRequest.requestURI.startsWith('/admin/technology')} ? ' bg-red-100 text-red-600 font-medium' : ''"
                       class="block py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors duration-200">
                        <i class="fas fa-code mr-2"></i>
                        Technology
                    </a>

                    <a href="/admin/recruitment-position"
                       th:classappend="${#httpServletRequest.requestURI.startsWith('/admin/recruitment-position')} ? ' bg-red-100 text-red-600 font-medium' : ''"
                       class="block py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors duration-200">
                        <i class="fas fa-briefcase mr-2"></i>
                        Recruitment Position
                    </a>

                    <a href="/admin/applications"
                       th:classappend="${#httpServletRequest.requestURI.startsWith('/admin/applications')} ? ' bg-red-100 text-red-600 font-medium' : ''"
                       class="block py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors duration-200">
                        <i class="fas fa-file-alt mr-2"></i>
                        Application
                    </a>
                </nav>
            </div>
        </div>

        <!-- User Info và Logout (chỉ hiển thị khi đã đăng nhập) -->
        <div th:if="${currentUser != null}">
            <div class="border-t border-gray-200 pt-4">
                <div class="flex items-center mb-3">
                    <div class="flex-1">
                        <!-- Hiển thị thông tin từ currentUser -->
                        <p class="font-semibold text-gray-800 text-sm"
                           th:text="${currentUser.candidate?.fullName ?: currentUser.email}">
                            User Name
                        </p>
                        <p class="text-gray-500 text-xs" th:text="${currentUser.email}">
                            user@email.com
                        </p>
                    </div>
                </div>

                <div class="flex space-x-2">
                    <form action="/logout" method="get" class="flex-1">
                        <button type="submit"
                                class="w-full py-2 px-3 bg-red-100 text-red-600 rounded-lg text-xs hover:bg-red-200 transition-colors duration-200">
                            <i class="fas fa-sign-out-alt mr-1"></i>
                            Logout
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>
