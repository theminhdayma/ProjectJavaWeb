<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Đăng ký tài khoản</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen py-10 flex justify-center items-start">

<div class="w-full max-w-2xl bg-white p-8 rounded-lg shadow-lg">
    <h2 class="text-2xl font-bold text-center text-red-700 mb-6">Đăng ký tài khoản ứng viên</h2>

    <form th:action="@{/register}" method="post" th:object="${accountDto}" class="space-y-6">

        <!-- Thông tin tài khoản -->
        <fieldset class="border border-gray-300 rounded-md p-4">
            <legend class="font-semibold text-gray-700 px-2">Thông tin tài khoản</legend>

            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700">Email:</label>
                <input type="email" th:field="*{email}"
                       class="mt-1 w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" />
                <p class="text-sm text-red-600 mt-1" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></p>
            </div>

            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700">Mật khẩu:</label>
                <input type="password" th:field="*{password}"
                       class="mt-1 w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" />
                <p class="text-sm text-red-600 mt-1" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></p>
            </div>

            <div class="mb-2">
                <label class="block text-sm font-medium text-gray-700">Trạng thái:</label>
                <select th:field="*{status}"
                        class="mt-1 w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500">
                    <option value="ACTIVE">Hoạt động</option>
                    <option value="INACTIVE">Không hoạt động</option>
                </select>
                <p class="text-sm text-red-600 mt-1" th:if="${#fields.hasErrors('status')}" th:errors="*{status}"></p>
            </div>
        </fieldset>

        <!-- Thông tin ứng viên -->
        <fieldset class="border border-gray-300 rounded-md p-4">
            <legend class="font-semibold text-gray-700 px-2">Thông tin ứng viên</legend>

            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700">Họ tên:</label>
                <input type="text" th:field="*{candidateDto.name}"
                       class="mt-1 w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" />
                <p class="text-sm text-red-600 mt-1" th:if="${#fields.hasErrors('candidateDto.name')}" th:errors="*{candidateDto.name}"></p>
            </div>

            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700">Số điện thoại:</label>
                <input type="text" th:field="*{candidateDto.phone}"
                       class="mt-1 w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" />
                <p class="text-sm text-red-600 mt-1" th:if="${#fields.hasErrors('candidateDto.phone')}" th:errors="*{candidateDto.phone}"></p>
            </div>

            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700">Ngày sinh:</label>
                <input type="date" th:field="*{candidateDto.dob}"
                       class="mt-1 w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" />
                <p class="text-sm text-red-600 mt-1" th:if="${#fields.hasErrors('candidateDto.dob')}" th:errors="*{candidateDto.dob}"></p>
            </div>

            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700">Kinh nghiệm (năm):</label>
                <input type="number" th:field="*{candidateDto.experience}"
                       class="mt-1 w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" />
                <p class="text-sm text-red-600 mt-1" th:if="${#fields.hasErrors('candidateDto.experience')}" th:errors="*{candidateDto.experience}"></p>
            </div>

            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700">Giới tính:</label>
                <select th:field="*{candidateDto.gender}"
                        class="mt-1 w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500">
                    <option value="MALE">Nam</option>
                    <option value="FEMALE">Nữ</option>
                    <option value="OTHER">Khác</option>
                </select>
                <p class="text-sm text-red-600 mt-1" th:if="${#fields.hasErrors('candidateDto.gender')}" th:errors="*{candidateDto.gender}"></p>
            </div>

            <div>
                <label class="block text-sm font-medium text-gray-700">Mô tả:</label>
                <textarea th:field="*{candidateDto.description}" rows="3"
                          class="mt-1 w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"></textarea>
                <p class="text-sm text-red-600 mt-1" th:if="${#fields.hasErrors('candidateDto.description')}" th:errors="*{candidateDto.description}"></p>
            </div>
        </fieldset>

        <div th:if="${error}" class="text-sm text-red-600 text-center">
            <p th:text="${error}"></p>
        </div>

        <button type="submit"
                class="w-full bg-red-700 text-white py-2 rounded-md font-semibold hover:bg-red-800 transition">
            Đăng ký
        </button>
    </form>
</div>

</body>
</html>
